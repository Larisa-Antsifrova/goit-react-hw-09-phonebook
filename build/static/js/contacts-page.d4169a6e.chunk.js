(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[1],{181:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n(0);var c=n(2),a=function(t){var e=t.children;return Object(c.jsx)("main",{children:e})}},182:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(0);var c=n(60),a=n(183),r=n.n(a),i=n(2),s=function(t){var e=t.children;return Object(i.jsx)("section",{className:r.a.section,children:Object(i.jsx)(c.a,{children:e})})}},183:function(t,e,n){t.exports={section:"Section_section__2aPyg"}},184:function(t,e,n){t.exports={title:"PageTitle_title__2xk4o"}},185:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(0);var c=n(184),a=n.n(c),r=n(2),i=function(t){var e=t.title;return e&&Object(r.jsx)("h1",{className:a.a.title,children:e})};i.defaultProps={title:""};var s=i},195:function(t,e,n){t.exports={title:"Title_title__39wGa"}},196:function(t,e,n){t.exports={form:"ContactForm_form__2SxIM",btn:"ContactForm_btn__1n7b6"}},197:function(t,e,n){t.exports={filter:"Filter_filter__hH5IZ"}},198:function(t,e,n){t.exports={info:"ContactListItem_info__1Jj1H",editorInput:"ContactListItem_editorInput__kowzC",btnGroup:"ContactListItem_btnGroup__2IeVd",btn:"ContactListItem_btn__1rzrV",delete:"ContactListItem_delete__JDyz9 ContactListItem_btn__1rzrV",edit:"ContactListItem_edit__1ERmT ContactListItem_btn__1rzrV",save:"ContactListItem_save__mWhvB ContactListItem_btn__1rzrV",cancel:"ContactListItem_cancel__vP0fG ContactListItem_btn__1rzrV"}},201:function(t,e,n){t.exports={contacts:"ContactList_contacts__3PXlp",item:"ContactList_item__RcitZ",notification:"ContactList_notification__1Zn5w",loader:"ContactList_loader__1KrZP"}},218:function(t,e,n){"use strict";n.r(e);n(0);var c=n(181),a=n(182),r=n(185),i=n(2);e.default=function(){return Object(i.jsx)(c.a,{children:Object(i.jsx)(a.a,{children:Object(i.jsx)(r.a,{title:"404 Page not Found"})})})}},220:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(181),r=n(182),i=n(195),s=n.n(i),o=n(2),u=function(t){var e=t.title;return e&&Object(o.jsx)("h2",{className:s.a.title,children:e})};u.defaultProps={title:""};var b=u,l=n(3),j=n(32),m=n(186),f=n(16),d=n(25),O=n.n(d),p=n(42),h=n(9),x=n(29),_=n.n(x),v=n(47),C=function(t){return t.contacts.filter},g=function(t){return t.contacts.items},k=Object(v.a)([g,C],(function(t,e){return t.filter((function(t){var n=t.name,c=t.number;return n.toLowerCase().includes(e.toLocaleLowerCase())||c.includes(e)}))})),N=function(t){return t.contacts.loading},w=n(196),y=n.n(w);function L(){var t=Object(c.useState)({name:"",number:""}),e=Object(m.a)(t,2),n=e[0],a=e[1],r=Object(f.c)(g),i=Object(f.b)(),s=Object(c.useCallback)((function(t){var e=t.target,c=e.name,r=e.value;a(Object(j.a)(Object(j.a)({},n),{},Object(l.a)({},c,r)))}),[n]),u=Object(c.useCallback)((function(t){if(t.preventDefault(),n.name){var e,c=r.find((function(t){return t.name===n.name}));if(c)alert("".concat(c.name," is already in contacts."));else i((e=n,function(){var t=Object(p.a)(O.a.mark((function t(n){var c,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(h.b)()),t.prev=1,t.next=4,_.a.post("/contacts",e);case 4:c=t.sent,a=c.data,n(Object(h.c)(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(Object(h.a)(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}())),a({name:"",number:""})}}),[r,i,n]);return Object(o.jsxs)("form",{className:y.a.form,onSubmit:u,children:[Object(o.jsxs)("label",{children:["Name",Object(o.jsx)("input",{type:"name",name:"name",value:n.name,onChange:s,required:!0})]}),Object(o.jsxs)("label",{children:["Number",Object(o.jsx)("input",{type:"tel",name:"number",value:n.number,onChange:s,required:!0})]}),Object(o.jsx)("button",{type:"submit",className:y.a.btn,children:"Add"})]})}var I=n(197),F=n.n(I);function S(){var t=Object(f.b)(),e=Object(c.useCallback)((function(e){return t(Object(h.m)(e.target.value))}),[t]),n=Object(f.c)(C);return Object(o.jsx)("div",{className:F.a.filter,children:Object(o.jsxs)("label",{children:["Find contacts by name",Object(o.jsx)("input",{type:"text",name:"filter",value:n,onChange:e,autoComplete:"off",required:!0})]})})}var P=n(68),z=n.n(P),V=(n(98),n(198)),q=n.n(V);function E(t){var e=t.contact,n=e.id,a=e.name,r=e.number,i=Object(c.useState)(!1),s=Object(m.a)(i,2),u=s[0],b=s[1],d=Object(c.useState)(!1),x=Object(m.a)(d,2),v=x[0],C=x[1],k=Object(c.useState)({name:a,number:r}),N=Object(m.a)(k,2),w=N[0],y=N[1],L=Object(c.useCallback)((function(t){var e=t.target,n=e.name,c=e.value;y(Object(j.a)(Object(j.a)({},w),{},Object(l.a)({},n,c)))}),[w]),I=Object(f.b)(),F=function(t){return I(function(t){return function(){var e=Object(p.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(h.e)()),e.prev=1,e.next=4,_.a.delete("/contacts/".concat(t));case 4:n(Object(h.f)(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(Object(h.d)(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}(t))},S=Object(f.c)(g),P=Object(c.useCallback)((function(t,e){if(!e.name||!e.number)return y({name:a,number:r}),void b(!0);var c=S.find((function(t){return t.name===e.name&&t.id!==n}));if(c)return alert("".concat(c.name," is already in contacts.")),void b(!0);S.find((function(t){return t.name===e.name&&t.id===n}))||(C(!0),I(function(t,e,n){return function(){var c=Object(p.a)(O.a.mark((function c(a){var r,i;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a(Object(h.k)()),c.prev=1,c.next=4,_.a.patch("/contacts/".concat(t),e);case 4:r=c.sent,i=r.data,a(Object(h.l)(i)),n(!1),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),a(Object(h.j)(c.t0.message));case 13:case"end":return c.stop()}}),c,null,[[1,10]])})));return function(t){return c.apply(this,arguments)}}()}(t,e,C))),b(!1)}),[S,I,n,a,r]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{children:u?Object(o.jsxs)("div",{className:q.a.editorInput,children:[Object(o.jsx)("input",{type:"name",name:"name",value:w.name,onChange:L,required:!0}),Object(o.jsx)("input",{type:"tel",name:"number",value:w.number,onChange:L,required:!0})]}):v?Object(o.jsx)(z.a,Object(j.a)({},{type:"TailSpin",color:"#80cbc4",height:30,width:30})):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("p",{className:q.a.info,children:[a,":"]}),Object(o.jsx)("p",{className:q.a.info,children:r})]})}),Object(o.jsxs)("div",{className:q.a.btnGroup,children:[u?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:q.a.save,onClick:function(){return P(n,w)},children:"Save"}),Object(o.jsx)("button",{className:q.a.cancel,onClick:function(){return b(!1)},children:"Cancel"})]}):Object(o.jsx)("button",{className:q.a.edit,onClick:function(){b(!0)},children:"Edit"}),Object(o.jsx)("button",{className:q.a.delete,onClick:function(){F(n)},children:"Delete"})]})]})}var G=n(199),T=n.n(G),J=n(201),Z=n.n(J);function D(){var t=Object(f.b)();Object(c.useEffect)((function(){return t(function(){var t=Object(p.a)(O.a.mark((function t(e){var n,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(h.h)()),t.prev=1,t.next=4,_.a.get("/contacts");case 4:n=t.sent,c=n.data,e(Object(h.i)(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(h.g)(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}())}),[t]);var e=Object(f.c)(k),n=Object(f.c)(N),a={type:"TailSpin",color:"#80cbc4",height:50,width:50,className:Z.a.loader};return Object(o.jsxs)(o.Fragment,{children:[n&&Object(o.jsx)(z.a,Object(j.a)({},a)),!T.a.isEmpty(e)&&Object(o.jsx)("ul",{className:Z.a.contacts,children:e.map((function(t){return Object(o.jsx)("li",{className:Z.a.item,children:Object(o.jsx)(E,{contact:t})},t.id)}))}),T.a.isEmpty(e)&&!n&&Object(o.jsx)("p",{className:Z.a.notification,children:"No contact found."})]})}e.default=function(){return Object(o.jsx)(a.a,{children:Object(o.jsxs)(r.a,{children:[Object(o.jsx)(b,{title:"Add contacts"}),Object(o.jsx)(L,{}),Object(o.jsx)(b,{title:"Find contacts"}),Object(o.jsx)(S,{}),Object(o.jsx)(b,{title:"Contacts"}),Object(o.jsx)(D,{})]})})}}}]);
//# sourceMappingURL=contacts-page.d4169a6e.chunk.js.map